<?xml version="1.0"?>
<configuration>
    <property>
        <name>hive.metastore.warehouse.dir</name>
        <value>s3a://iceberg/</value>
        <description>S3A warehouse directory for Iceberg iceberg</description>
    </property>
    <property>
        <name>fs.s3a.endpoint</name>
        <value>http://minio:9000</value>
        <description>MinIO endpoint URL</description>
    </property>
    <property>
        <name>hive.metastore.warehouse.external.dir</name>
        <value>s3a://iceberg/warehouse</value>
    </property>
    <property>
        <name>hive.metastore.warehouse.dir</name>
        <value>s3a://iceberg/warehouse</value>
    </property>
    <property>
        <name>fs.s3a.access.key</name>
        <value>minio</value>
        <description>MinIO access key</description>
    </property>
    
    <property>
        <name>fs.s3a.secret.key</name>
        <value>minio123</value>
        <description>MinIO secret key</description>
    </property>
    
    <property>
        <name>fs.s3a.path.style.access</name>
        <value>true</value>
        <description>Enable path-style access for MinIO compatibility</description>
    </property>
    
    <property>
        <name>fs.s3a.connection.ssl.enabled</name>
        <value>false</value>
        <description>Disable SSL for local MinIO instance</description>
    </property>
    
    <property>
        <name>fs.s3a.impl</name>
        <value>org.apache.hadoop.fs.s3a.S3AFileSystem</value>
        <description>S3A filesystem implementation</description>
    </property>
    <property>
        <name>fs.s3a.aws.credentials.provider</name>
        <value>org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider</value>
        <description>Use only SimpleAWSCredentialsProvider to avoid AWS SDK v2 dependencies</description>
    </property>
    <property>
        <name>hive.metastore.client.capability.check</name>
        <value>false</value>
        <description>Disable capability check for Iceberg compatibility</description>
    </property>
    <property>
        <name>iceberg.catalog</name>
        <value>hive</value>
        <description>Set default catalog type to hive</description>
    </property>
    
    <property>
        <name>iceberg.catalog.hive.type</name>
        <value>hive</value>
        <description>Hive catalog type</description>
    </property>
    
    <property>
        <name>iceberg.catalog.hive.client-pool-cache-keys</name>
        <value>ugi</value>
        <description>Cache HMS clients by user group information to fix metastore access issues</description>
    </property>
    
    <property>
        <name>iceberg.catalog.hive.uri</name>
        <value>thrift://hive-metastore:9083</value>
        <description>Hive Metastore URI for Iceberg</description>
    </property>
    
    <property>
        <name>iceberg.catalog.hive.warehouse</name>
        <value>s3a://iceberg/warehouse/</value>
        <description>Iceberg warehouse location</description>
    </property>
    <property>
        <name>hive.security.authorization.enabled</name>
        <value>false</value>
        <description>Disable Hive authorization</description>
    </property>
    
    <property>
        <name>hive.metastore.authorization.storage.checks</name>
        <value>false</value>
        <description>Disable storage-based authorization checks that require S3A filesystem initialization</description>
    </property>
    <property>
        <name>fs.s3a.connection.maximum</name>
        <value>50</value>
        <description>Maximum number of S3A connections</description>
    </property>
    
    <property>
        <name>fs.s3a.threads.max</name>
        <value>10</value>
        <description>Maximum number of S3A threads</description>
    </property>
    
    <property>
        <name>fs.s3a.multipart.size</name>
        <value>67108864</value>
        <description>64MB multipart upload size</description>
    </property>
    
    <property>
        <name>fs.s3a.fast.upload</name>
        <value>true</value>
        <description>Enable fast upload for better performance</description>
    </property>
    <property>
        <name>fs.s3a.connection.timeout</name>
        <value>200000</value>
        <description>Socket connection timeout in milliseconds</description>
    </property>
    
    <property>
        <name>fs.s3a.connection.establish.timeout</name>
        <value>120000</value>
        <description>Socket establishment timeout in milliseconds</description>
    </property>
    
    <property>
        <name>fs.s3a.connection.request.timeout</name>
        <value>60000</value>
        <description>Request timeout in milliseconds</description>
    </property>
    <property>
        <name>fs.s3a.threads.keepalivetime</name>
        <value>60</value>
        <description>Thread keep-alive time in seconds (numeric value only)</description>
    </property>
    <property>
        <name>fs.s3a.executor.capacity</name>
        <value>16</value>
        <description>Thread pool capacity</description>
    </property>
    
    <property>
        <name>fs.s3a.threads.core</name>
        <value>15</value>
        <description>Core number of threads in S3A thread pool</description>
    </property>
    
    <property>
        <name>fs.s3a.connection.ttl</name>
        <value>60000</value>
        <description>Connection TTL in milliseconds</description>
    </property>
    <property>
        <name>fs.s3a.readahead.range</name>
        <value>65536</value>
        <description>Readahead range in bytes</description>
    </property>
    
    <property>
        <name>fs.s3a.connection.idle.timeout</name>
        <value>30000</value>
        <description>Connection idle timeout in milliseconds</description>
    </property>
    
    <property>
        <name>fs.s3a.max.total.tasks</name>
        <value>50</value>
        <description>Maximum number of total tasks</description>
    </property>
    
    <property>
        <name>fs.s3a.retry.limit</name>
        <value>3</value>
        <description>Number of retries for S3A operations</description>
    </property>
    
    <property>
        <name>fs.s3a.retry.interval</name>
        <value>500</value>
        <description>Retry interval in milliseconds</description>
    </property>
    
    <property>
        <name>fs.s3a.socket.recv.buffer</name>
        <value>65536</value>
        <description>Socket receive buffer size</description>
    </property>
    
    <property>
        <name>fs.s3a.socket.send.buffer</name>
        <value>65536</value>
        <description>Socket send buffer size</description>
    </property>
    <property>
        <name>fs.s3a.block.size</name>
        <value>134217728</value>
        <description>Block size for S3A filesystem (128MB)</description>
    </property>
    
    <property>
        <name>fs.s3a.buffer.dir</name>
        <value>/tmp</value>
        <description>Temporary directory for S3A buffers</description>
    </property>
    <property>
        <name>hadoop.rpc.timeout</name>
        <value>60000</value>
        <description>RPC timeout in milliseconds</description>
    </property>
    
    <property>
        <name>ipc.client.connection.maxidletime</name>
        <value>10000</value>
        <description>IPC client connection max idle time in milliseconds</description>
    </property>
    
    <property>
        <name>ipc.client.connect.timeout</name>
        <value>20000</value>
        <description>IPC client connect timeout in milliseconds</description>
    </property>
    <property>
        <name>fs.s3a.connection.ssl.timeout</name>
        <value>200000</value>
        <description>SSL connection timeout in milliseconds</description>
    </property>
    
    <property>
        <name>fs.s3a.socket.timeout</name>
        <value>200000</value>
        <description>Socket timeout in milliseconds</description>
    </property>
</configuration>
